#***************************************************************************
#* Experimentelle Teilchenphysik II
#* -------------------------------------------------------------------------
#* Example Makefile for ex00_02
#*
#* In Makefiles the symbol to introduce comments is # 
#***************************************************************************
#
# Definitions
#
# Compile settings
CXX      := g++                # Use g++ as compiler
CXXEND   := .cc                # Use .cc for C++ source code
CXXFLAGS := -g -O -Wall -fPIC  # Set compiler options:
                               # -g compile with debug information
                               # -O optimize
                               # -Wall show warnings for everything
                               # -fPIC compile sources as shareable objects

# Link settings
LD       := g++                # Use g++ for linking
LDFLAGS  := -O                 # -O optimize

# Cleaner
RM       := rm -f

#----------------------------------------------------------------------------
# By default, the first rule ( marked by label: ) is "made" when running make
# => make tries to produce ex00_02 which depends on everything after the :
# => make tries to produce ex00_02.o first
# => make consults the general rule how to produce .o files from .cc sources 
#    and resolves everything starting from there
#
# IMPORTANT: Lines inside a rule detailling what to do HAVE TO START WITH TABs!

# ex00_02 depends on ex00_02.o and is generated by linking ex00_02.o with
# $(LD) $(LDFLAGS) to ex00_02
ex00_02: ex00_02.o
	$(LD) $(LDFLAGS) -o ex00_02 ex00_02.o

#----------------------------------------------------------------------------
# General rule for producing .o files
#
# All .o files are produced from .$(CXXEND), here .cc files, by running the
# the compiler $(CXX) $(CXXFLAGS) and writing a .o file with the same name
$(CXXEND).o:
	$(CXX) $(CXXFLAGS) -c $*$(CXXEND) -o $*.o

#----------------------------------------------------------------------------
# Added rule to "make ex00_01" as well
ex00_01: ex00_01.o
	$(LD) $(LDFLAGS) -o ex00_01 ex00_01.o

#----------------------------------------------------------------------------
# Rule for cleaning up
#
# Remove all intermediate .o files
clean::
	$(RM) *.o
